datasource db {
  provider     = "mysql"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}

generator client {
  provider = "prisma-client-js"
}



model App {
  id String @id @default(uuid())
  name String 
  icon String 
  version String 

  functions  Function[]

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt
}

model Function {
  id String @id @default(uuid())
  title String  @unique
  description String @db.Text
  
  appId String?
  app App? @relation(fields: [appId],references: [id],onDelete: Cascade) 

  categoryId String?
  category Function_category? @relation(fields: [categoryId],references: [name],onDelete: Cascade)

  
  guides Guide[]

  created_at DateTime @default(now())
  updated_at DateTime @updatedAt

  @@index([categoryId])
  @@index([appId])
}

model Guide {
  id String @id @default(uuid())
  description String @db.Text

  functionId String
  function Function @relation(fields: [functionId],references: [id])

  guide_component Guide_component?

  @@index([functionId])
  
}

model Guide_component {
  id String @id @default(uuid())
  code String 

  guideId String @unique
  guide Guide @relation(fields: [guideId],references: [id])

  

@@index([guideId])
}



model Function_category {
  id String @id @default(uuid()) 
  name String @unique
  icon String

  functions Function[]
}




